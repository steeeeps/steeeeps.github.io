<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>自定义dojo主题 - steeeeps</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="到现在的dojo1.8.3版本中，dojo框架提供了四个主题，nihilo、tundra、soria和claro，我个人是非常喜欢claro主题的风格，淡淡的蓝，用了一些css3的效果，整个体验都很不错,但是谁也不喜欢自己做的系统主题样式和别人一致，就像不喜欢和别人撞衫一样，所以在平时开发中也会想尽一切办法来改变dojo主题。下面就分享两个自定义dojo主题的方法。
重写样式 这个方法可能是使用起来最简单，适用面最广的一种方法，用浏览器调试工具找出dijit的样式，修改为自己的想要的样式，比如我想修改dojo的Dialog的样式，我只需要找到Dialog对应的css样式，修改为以下css代码：
/*------------对话框-----------*/ .steeeeps .dijitDialog { border: 1px solid #bec0e1; -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; } /*对话框标题栏*/ .steeeeps .dijitDialogTitleBar { background: rgb(248, 248, 248); /* Old browsers */ background: -moz-linear-gradient(top, rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* FF3.6&#43; */ background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(248,248,248,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4&#43; */ background:-webkit-linear-gradient(top,rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* Chrome10&#43;,Safari5." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="自定义dojo主题" />
<meta property="og:description" content="到现在的dojo1.8.3版本中，dojo框架提供了四个主题，nihilo、tundra、soria和claro，我个人是非常喜欢claro主题的风格，淡淡的蓝，用了一些css3的效果，整个体验都很不错,但是谁也不喜欢自己做的系统主题样式和别人一致，就像不喜欢和别人撞衫一样，所以在平时开发中也会想尽一切办法来改变dojo主题。下面就分享两个自定义dojo主题的方法。
重写样式 这个方法可能是使用起来最简单，适用面最广的一种方法，用浏览器调试工具找出dijit的样式，修改为自己的想要的样式，比如我想修改dojo的Dialog的样式，我只需要找到Dialog对应的css样式，修改为以下css代码：
/*------------对话框-----------*/ .steeeeps .dijitDialog { border: 1px solid #bec0e1; -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; } /*对话框标题栏*/ .steeeeps .dijitDialogTitleBar { background: rgb(248, 248, 248); /* Old browsers */ background: -moz-linear-gradient(top, rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* FF3.6&#43; */ background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(248,248,248,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4&#43; */ background:-webkit-linear-gradient(top,rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* Chrome10&#43;,Safari5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://steeeeps.github.io/posts/2013/custom-dojo-theme/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-04-14T11:10:07+00:00" />
<meta property="article:modified_time" content="2013-04-14T11:10:07+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="自定义dojo主题"/>
<meta name="twitter:description" content="到现在的dojo1.8.3版本中，dojo框架提供了四个主题，nihilo、tundra、soria和claro，我个人是非常喜欢claro主题的风格，淡淡的蓝，用了一些css3的效果，整个体验都很不错,但是谁也不喜欢自己做的系统主题样式和别人一致，就像不喜欢和别人撞衫一样，所以在平时开发中也会想尽一切办法来改变dojo主题。下面就分享两个自定义dojo主题的方法。
重写样式 这个方法可能是使用起来最简单，适用面最广的一种方法，用浏览器调试工具找出dijit的样式，修改为自己的想要的样式，比如我想修改dojo的Dialog的样式，我只需要找到Dialog对应的css样式，修改为以下css代码：
/*------------对话框-----------*/ .steeeeps .dijitDialog { border: 1px solid #bec0e1; -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; } /*对话框标题栏*/ .steeeeps .dijitDialogTitleBar { background: rgb(248, 248, 248); /* Old browsers */ background: -moz-linear-gradient(top, rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* FF3.6&#43; */ background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(248,248,248,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4&#43; */ background:-webkit-linear-gradient(top,rgba(248, 248, 248, 1) 0%, rgba(229, 229, 229, 1) 100%); /* Chrome10&#43;,Safari5."/>
<script src="https://steeeeps.github.iojs/feather.min.js"></script>
	
	
        <link href="https://steeeeps.github.io/css/fonts.7fa06c2792c8589768ffcdaf014e4bfc7f2ccbfba059f8e87131158970c23ed3.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://steeeeps.github.io/css/main.245cf2f4cbf86306cf2b642c640297777accf92ca33bea899d87920b0dad063d.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://steeeeps.github.io/css/dark.c95c5dcf5f32f8b67bd36f7dab66680e068fce2b303087294114aabf7a7c080b.css" media="(prefers-color-scheme: dark)"  />
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://steeeeps.github.io">steeeeps</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">自定义dojo主题</h1>
			<div class="meta">Posted on Apr 14, 2013</div>
		</div>
		

		<section class="body">
			<p>到现在的dojo1.8.3版本中，dojo框架提供了四个主题，<strong>nihilo</strong>、<strong>tundra</strong>、<strong>soria</strong>和<strong>claro</strong>，我个人是非常喜欢<strong>claro</strong>主题的风格，淡淡的蓝，用了一些css3的效果，整个体验都很不错,但是谁也不喜欢自己做的系统主题样式和别人一致，就像不喜欢和别人撞衫一样，所以在平时开发中也会想尽一切办法来改变dojo主题。下面就分享两个自定义dojo主题的方法。</p>
<h1 id="重写样式">重写样式</h1>
<p>这个方法可能是使用起来最简单，适用面最广的一种方法，用浏览器调试工具找出dijit的样式，修改为自己的想要的样式，比如我想修改dojo的Dialog的样式，我只需要找到Dialog对应的css样式，修改为以下css代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">    <span style="color:#75715e">/*------------对话框-----------*/</span> 
    .<span style="color:#a6e22e">steeeeps</span> .<span style="color:#a6e22e">dijitDialog</span> {
        <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#bec0e1</span>;
        <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.25</span>);
        <span style="color:#66d9ef">-moz-</span><span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.25</span>);
        <span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.25</span>);
        <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">-moz-</span><span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
    }

    <span style="color:#75715e">/*对话框标题栏*/</span> 
    .<span style="color:#a6e22e">steeeeps</span> .<span style="color:#a6e22e">dijitDialogTitleBar</span> {
        <span style="color:#66d9ef">background</span>: rgb(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>); <span style="color:#75715e">/* Old browsers */</span>
        <span style="color:#66d9ef">background</span>: <span style="color:#66d9ef">-moz-</span>linear-gradient(<span style="color:#66d9ef">top</span>, rgba(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, rgba(<span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>); <span style="color:#75715e">/* FF3.6+ */</span>
        <span style="color:#66d9ef">background</span>:<span style="color:#66d9ef">-webkit-</span><span style="color:#a6e22e">gradient</span>(<span style="color:#66d9ef">linear</span>, <span style="color:#66d9ef">left</span> <span style="color:#66d9ef">top</span>, <span style="color:#66d9ef">left</span> <span style="color:#66d9ef">bottom</span>, <span style="color:#a6e22e">color-stop</span>(<span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>,rgba(<span style="color:#ae81ff">248</span>,<span style="color:#ae81ff">248</span>,<span style="color:#ae81ff">248</span>,<span style="color:#ae81ff">1</span>)), <span style="color:#a6e22e">color-stop</span>(<span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>,rgba(<span style="color:#ae81ff">229</span>,<span style="color:#ae81ff">229</span>,<span style="color:#ae81ff">229</span>,<span style="color:#ae81ff">1</span>))); <span style="color:#75715e">/* Chrome,Safari4+ */</span>
        <span style="color:#66d9ef">background</span>:<span style="color:#66d9ef">-webkit-</span>linear-gradient(<span style="color:#66d9ef">top</span>,rgba(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, rgba(<span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>); <span style="color:#75715e">/* Chrome10+,Safari5.1+ */</span>
        <span style="color:#66d9ef">background</span>:<span style="color:#66d9ef">-o-</span>linear-gradient(<span style="color:#66d9ef">top</span>,rgba(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, rgba(<span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>); <span style="color:#75715e">/* Opera 11.10+ */</span>
        <span style="color:#66d9ef">background</span>:<span style="color:#66d9ef">-ms-</span>linear-gradient(<span style="color:#66d9ef">top</span>,rgba(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, rgba(<span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>); <span style="color:#75715e">/* IE10+ */</span>
        <span style="color:#66d9ef">background</span>:linear-gradient(<span style="color:#66d9ef">to</span> <span style="color:#66d9ef">bottom</span>,rgba(<span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">248</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, rgba(<span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>); <span style="color:#75715e">/* W3C */</span>
        <span style="color:#66d9ef">filter</span>:progid<span style="color:#f92672">:</span>DXImageTransform<span style="color:#f92672">.</span>Microsoft<span style="color:#f92672">.</span><span style="color:#a6e22e">gradient</span>( startColorstr <span style="color:#960050;background-color:#1e0010">=</span><span style="color:#e6db74">&#39;#f8f8f8&#39;</span>, endColorstr <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#e6db74">&#39;#e5e5e5&#39;</span>, GradientType <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#ae81ff">0</span>); <span style="color:#75715e">/* IE6-9 */</span>
        <span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">line-height</span>:<span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">padding</span>:<span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">7</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">7</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">border</span>:<span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#bec0e1</span>;
        <span style="color:#66d9ef">border-top</span>:<span style="color:#66d9ef">none</span>;
    }

    <span style="color:#75715e">/*对话框标题*/</span>
    .<span style="color:#a6e22e">steeeeps</span> .<span style="color:#a6e22e">dijitDialogTitle</span> {
        <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">11</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#234580</span>;
        <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#34;雅黑&#34;</span>;
    }

    <span style="color:#75715e">/*对话框内容显示区域*/</span> 
    .<span style="color:#a6e22e">steeeeps</span> .<span style="color:#a6e22e">dijitDialogPaneContent</span> {
        <span style="color:#66d9ef">border-top</span>: <span style="color:#66d9ef">none</span>;
        <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">35</span><span style="color:#66d9ef">px</span>;
        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#fafafa</span> <span style="color:#66d9ef">repeat-x</span> <span style="color:#66d9ef">top</span> <span style="color:#66d9ef">left</span>;
        <span style="color:#66d9ef">height</span>: <span style="color:#66d9ef">auto</span> <span style="color:#75715e">!important</span>;
    }
    <span style="color:#960050;background-color:#1e0010">```</span>

<span style="color:#f92672">然后将body标签修改为</span><span style="color:#960050;background-color:#1e0010">：</span>

<span style="color:#960050;background-color:#1e0010">```</span> <span style="color:#f92672">html</span>
    <span style="color:#f92672">&lt;</span><span style="color:#f92672">body</span> <span style="color:#f92672">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;claro steeeeps&#34;</span> <span style="color:#f92672">role</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main&#34;</span> <span style="color:#f92672">/&gt;</span>
</code></pre></div><p>浏览器在解析html时，就会根据CSS优先级法则自动覆盖claro主题中Dialog的样式。如图所示是上面样式的效果图</p>
<p><img src="/images/2013/steeeeps_dialog.png" alt="dojo dialog"></p>
<p>虽然这样重写dijit样式的方式是比较简单、快捷，但是对于一个主题来说通常这样修改的地方都零零散散，如果需要修改多个控件，那修改的地方就比较多，显得比较麻烦。</p>
<h1 id="使用less-css创建dojo主题">使用LESS CSS创建dojo主题</h1>
<p>随着整个Dojo Tookit越来越强大，从Dojo1.6开始增加了使用<a href="http://www.lesscss.net">LESS CSS</a>框架来创建Dijit的主题。使用LESS来创建Dijit主题是一个非常明智的改变，因为这能够使开发者定制自己的主题越来越简单。下面就介绍一下Dojo是如何使用LESS来创建Dijit主题的，以及如何来定制我们自己的主题。</p>
<h2 id="less">LESS</h2>
<p>LESS CSS背后的思想是十分简单的：通过使用变量(variables)、混入(mixins)、操作(operations)以及函数(functions)等动态行为来扩展CSS。简单来说：弥补了CSS的继承限制。LESS能够在服务器端的<a href="http://nodejs.org/">Node.js</a>环境中使用，也能够通过在客户端引入JavaScript文件来使用。我们将使用第一种方法来创建Dojo主题。在Node.js环境中，我们使用nmp来安装LESS(假设你的机器上已经安装了Node.js和npm)：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install less
</code></pre></div><h2 id="dijit中less的使用">Dijit中LESS的使用</h2>
<p>打开dojo1.6+安装目录中claro主题的位置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd dijit/themes/claro/
</code></pre></div><p>在打开的目录中你能看见一些{WidgetName}.css文件和{WidgetName}.less，这些.css文件就是使用LESS构建的。再打开每个{WidgetName}.less文件之前，先打开variables.less文件，这个文件包含了其他.css文件中使用的变量。可以认为variables.less是整个主题构建中最基础的文件。下面是variables.less文件中的一些代码片段：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">    <span style="color:#75715e">/* General */</span>
@<span style="color:#66d9ef">text-color</span><span style="color:#f92672">:</span> #000000;               <span style="color:#75715e">/* Text color for enabled widgets */</span>

@<span style="color:#66d9ef">border-color</span><span style="color:#f92672">:</span> #b5bcc7;             <span style="color:#75715e">/* Border color for (enabled, unhovered) TextBox, Slider, Accordion, BorderContainer, TabContainer */</span>
@<span style="color:#66d9ef">popup-border-color</span><span style="color:#f92672">:</span> #769dc0;       <span style="color:#75715e">/* Border for Dialog, Menu, Tooltip.   Must also update tooltip.png (the arrow image file) to match */</span>
@<span style="color:#66d9ef">minor-border-color</span><span style="color:#f92672">:</span> #d3d3d3;       <span style="color:#75715e">/* Color of borders inside widgets: horizontal line in Calendar between weeks, around color swatches in ColorPalette, above Dialog action bar */</span>

@<span style="color:#66d9ef">disabled-border-color</span><span style="color:#f92672">:</span> #d3d3d3;    <span style="color:#75715e">/* Border color for disabled/readonly Button, TextBox etc. widgets */</span>
@<span style="color:#66d9ef">disabled-background-color</span><span style="color:#f92672">:</span> #efefef;<span style="color:#75715e">/* Disabled button, textbox, etc. */</span>
@<span style="color:#66d9ef">disabled-text-color</span><span style="color:#f92672">:</span> #818181;      <span style="color:#75715e">/* Text color for disabled/readonly widgets */</span>

<span style="color:#75715e">/* ... */</span>

<span style="color:#75715e">/* Input widgets
</span><span style="color:#75715e">@focused-border-color: #769dc0;             /* Focused textbox, editor, select, etc. */</span>
@<span style="color:#66d9ef">error-border-color</span><span style="color:#f92672">:</span> #d46464;               <span style="color:#75715e">/* Border for textbox in error state */</span>
@<span style="color:#66d9ef">error-focused-border-color</span><span style="color:#f92672">:</span> #ce4f4f;       <span style="color:#75715e">/* Border of textbox in error state, and focused */</span>
@<span style="color:#66d9ef">erroricon-background-color</span><span style="color:#f92672">:</span> #d46464;       <span style="color:#75715e">/* Background color for exclamation point validation icon (for TextBox in error state) */</span>
@<span style="color:#66d9ef">textbox-background-color</span><span style="color:#f92672">:</span> #fff;            <span style="color:#75715e">/* Default background color of TextBox based widgets */</span>
@<span style="color:#66d9ef">textbox-hovered-background-color</span><span style="color:#f92672">:</span> #e9f4fe; <span style="color:#75715e">/* Background color when hovering a unfocused TextBox, Select, Editor, or other input widget */</span>
@<span style="color:#66d9ef">textbox-focused-background-color</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">textbox-background-color</span>;
@<span style="color:#66d9ef">textbox-error-background-color</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">textbox-background-color</span>;
@<span style="color:#66d9ef">textbox-disabled-background-color</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">disabled-background-color</span>;

<span style="color:#75715e">/* mixins */</span>
.<span style="color:#a6e22e">border-radius</span> <span style="color:#f92672">(</span>@<span style="color:#66d9ef">radius</span><span style="color:#f92672">)</span> {
    <span style="color:#f92672">-moz-border-radius</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">radius</span>;
    <span style="color:#f92672">border-radius</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">radius</span>;
}

.<span style="color:#a6e22e">box-shadow</span> <span style="color:#f92672">(</span>@<span style="color:#66d9ef">value</span><span style="color:#f92672">)</span> {
    <span style="color:#f92672">-webkit-box-shadow</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">value</span>;
    <span style="color:#f92672">-moz-box-shadow</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">value</span>;
    <span style="color:#f92672">box-shadow</span><span style="color:#f92672">:</span> @<span style="color:#66d9ef">value</span>;
}
</code></pre></div><p>一些LESS CSS基本用法：</p>
<ul>
<li>使用‘@’来定义一个变量。</li>
<li>在使用变量时，定义属性名，并将带有‘@’前缀的变量名作为值。</li>
<li>定义混入，提供一个带有参数的选择器名称，并且定义该属性的子属性。</li>
</ul>
<p>可以使用下面的语句，在.less文件中引入其他.less文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">    @<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;variables&#34;</span>;
</code></pre></div><p>现在，打开 Calendar.less文件，并且查找”@border-color”的实例，你会发现这些实例都引用自在variables.less中定义的变量 “@border-color” 。所有以‘@’作为前缀的变量都会在编译时被替换为相应的值。</p>
<h2 id="创建你自己的dijit主题">创建你自己的Dijit主题</h2>
<p>自定义主题最简单的方式就是复制一份最新的，并且官方提供支持的主题，这里，我推荐claro.claro是一款有专业外观的蓝色主题，使用了被大部分浏览器所支持的Css gradients,transitions和roundeed corners等css3效果.</p>
<p>使用cp命令快速复制claro文件夹到你所定义主题名的文件夹。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    cpmac claro davidwalsh  <span style="color:#f92672">(</span>原文作者名<span style="color:#f92672">)</span>
</code></pre></div><p>在开始修改代码之前，应该首先将目录下所有”claro”关键字修改为”{你自己的主题名}”.例如我将以‘davidwalsh’作为主题名，所以我将’claro’替换为’davidwalsh’.然后打开variables.less文件，做任何你觉得合适的颜色变化。我喜欢绿色，所以我将文件中的颜色值调整为呈绿色的。</p>
<p>在将variables.less文件修改为我理想中的设计后。如果我们想要让小部件与claro主题中的看起来不一样，我们还需要打开相应的{WidgetName}.less文件做适当的调整。当根据你的喜好修改完所有的.less文件后,就需要将.less文件编译为能被浏览器识别的css文件。</p>
<h2 id="编译less主题">编译LESS主题</h2>
<p>在编译主题之前，还需要介绍下目录中的compile.js文件，该文件是用来浏览当前目录以及‘form’和‘layout’子目录中所有的.less文件，所有的.less文件都会被解析并且使用variables.less中定义的值来替换相应的变量，并且创建同名的css文件。</p>
<p>定位到你定义主题的文件夹，使用下面的命令来调用compile.js:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    node compile.js
</code></pre></div><p>通过运行这个命令，将会创建于.less文件相对应的同名.css文件。快速扫描这些文件将确认所有的变量都被替换在相应的位置，现在，你自定义的主题已经完成。</p>
<h2 id="使用自定义主题">使用自定义主题</h2>
<p>找到themeTester.html文件(/dijit/themes/themeTester.html),将自己定义的主题添加至该文件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">   <span style="color:#75715e">// Fill in menu/links to get to other themes.       
</span><span style="color:#75715e">// availableThemes[] is just a list of &#39;official&#39; dijit themes, you can use ?theme=String
</span><span style="color:#75715e">// for &#39;un-supported&#39; themes, too. (eg: yours)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">availableThemes</span> <span style="color:#f92672">=</span> [
    { <span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;davidwalsh&#34;</span>, <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;David Walsh&#34;</span>, <span style="color:#a6e22e">baseUri</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;../themes/&#34;</span> },
    { <span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;claro&#34;</span>, <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Dojo&#34;</span>, <span style="color:#a6e22e">baseUri</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;../themes/&#34;</span> },
    { <span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;tundra&#34;</span>, <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Dojo&#34;</span>, <span style="color:#a6e22e">baseUri</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;../themes/&#34;</span> },
    { <span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;soria&#34;</span>, <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;nikolai&#34;</span>, <span style="color:#a6e22e">baseUri</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;../themes/&#34;</span> },
    { <span style="color:#a6e22e">theme</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;nihilo&#34;</span>, <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;nikolai&#34;</span>, <span style="color:#a6e22e">baseUri</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;../themes/&#34;</span> }
];
</code></pre></div><p>我推荐使用这个方法，因为这样能针对每个小部件来比较你的主题。你也希望在你的开发过程中不断地来调整你的主题。</p>
<p>LESS与静态的css文件相比，自定义主题能简单很多倍。LESS避免了开发者了多次运行查找/替换命令，可以使我们更动态、有组织的创建样式表。现在创建Dijit主题的复杂度成指数倍降低，我期望看见更多主题出现。</p>
<p><img src="/images/2013/davidwalsh_theme.png" alt="davidwalsh_theme"></p>
<p>关于上面的方法我在补充三点：</p>
<ul>
<li>在替换’.claro’为自定义主题名时，也需要将’claro.css’文件和’claro_rtl.css’文件名中的’claro’替换为自定义主题名。</li>
<li>在使用Node.js来编译compile.js时，如果你下载的是Node.js 0.8 之后的版本，最好下载dojo1.8+，不然会因为Node.js中的模块的改变而报错。</li>
<li>以上操作需要使用完整的、未压缩的dojo版本</li>
</ul>
<blockquote>
<p>使用LESS CSS创建dojo主题翻译自：<a href="http://davidwalsh.name/dijit-theme">Create Your Own Dijit CSS Theme with LESS CSS</a></p>
</blockquote>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/dojo">dojo</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>
<hr><a class="soc" href="https://github.com/steeeeps" title="GitHub"><i data-feather="github"></i></a>|⚡️
	2021  © steeeeps |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script>
      feather.replace()
</script></div>
    </body>
</html>
